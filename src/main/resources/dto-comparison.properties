###############################################################################
# UniversalComparator rules (dto-comparison.properties)
#
# Формат строки:
#   LeftClass=RightClass:rule1,rule2,rule3,...
#
# Где rule может быть 2-х видов:
#
# 1) Сравнение двух полей (left vs right):
#    leftPath[~OP]=rightPath
#    leftPath[~OP]="constant"    (сравнение с константой в кавычках)
#
#    - Если ~OP не указан, то OP = EQ (равенство).
#    - Вложенные поля задаются через точку: bookingdates.checkin
#    - Константы указываются в двойных кавычках: role="USER"
#
#    Поддерживаемые OP:
#      EQ   - равны (default)            left == right
#      NE   - не равны                  left != right
#      CONTAINS - left содержит right   String.valueOf(left).contains(String.valueOf(right))
#      IN   - right содержит left       String.valueOf(right).contains(String.valueOf(left))
#      GT   - left > right              (для чисел)
#      GE   - left >= right             (для чисел)
#      LT   - left < right              (для чисел)
#      LE   - left <= right             (для чисел)
#
# 2) Односторонние проверки (когда поле не с чем сравнивать):
#    leftPath@NOT_NULL                    (проверка поля в левом объекте)
#    leftPath@TYPE=String|Integer|Long|Double|BigDecimal|Boolean|UUID|LocalDate|LocalDateTime|Instant
#    @RIGHT:rightPath@NOT_NULL            (проверка поля в правом объекте)
#    @RIGHT:rightPath@TYPE=String         (проверка типа поля в правом объекте)
#    @RIGHT:rightPath="constant"          (сравнение поля правого объекта с константой)
#
# Примеры:
#   BookingModel=BookingModel:firstname=firstname,lastname=lastname,totalprice=totalprice
#   BookingModel=BookingModel:additionalneeds~CONTAINS=additionalneeds
#   BookingResponse=BookingResponse:id@NOT_NULL,token@TYPE=String
#
# Важно:
# - Названия классов можно указывать simpleName (BookingModel) или FQCN.
# - Сравнение чисел: поддерживаются Number и строки, которые парсятся в BigDecimal.
# - Для null:
#     EQ: null == null -> ok
#     NE: null != null -> ok, если второй не null
#     GT/GE/LT/LE: если одно из значений null -> fail
###############################################################################
# Сравнение RegisterRequest с RegisterResponse (для проверки email, userId и role)
RegisterRequest=RegisterResponse:email=email,@RIGHT:userId@NOT_NULL,@RIGHT:userId@TYPE=Long,@RIGHT:role="USER"

# Сравнение User (модель из БД) с RegisterRequest (для проверки nickname, email и валидаций)
User=RegisterRequest:nickname=nickname,email=email,id@NOT_NULL,id@TYPE=Long,passwordHash@NOT_NULL,createdAt@NOT_NULL